# ğŸš€ HOSVD æ‰‹å¯«æ•¸å­—è­˜åˆ¥ç³»çµ± - å®Œæ•´å•Ÿå‹•æŒ‡å—

## ğŸ“‹ å°ˆæ¡ˆä¿¡æ¯

| é …ç›® | å…§å®¹ |
|------|------|
| **åç¨±** | HOSVD å¼µé‡åˆ†è§£æ‰‹å¯«æ•¸å­—è­˜åˆ¥ç³»çµ± |
| **ç‰ˆæœ¬** | 3.0 (Python 3.13 ç›¸å®¹ç‰ˆæœ¬) |
| **ä½œè€…** | é™³å®¥èˆˆ (5114050015) |
| **èª²ç¨‹** | 2025-1-3 æ•¸æ“šåˆ†ææ•¸å­¸ |
| **æ¡†æ¶** | Streamlit + Scikit-learn + Tensorly |

---

## âœ… ç³»çµ±æª¢æŸ¥æ¸…å–®

### 1ï¸âƒ£ Python ç’°å¢ƒ
```
âœ… Python ç‰ˆæœ¬: 3.13.5
âœ… ä½ç½®: /opt/anaconda3/bin/python
```

### 2ï¸âƒ£ æ ¸å¿ƒä¾è³´ (å·²é©—è­‰)
```
âœ… streamlit          1.45.1
âœ… numpy             2.1.3
âœ… scikit-learn      1.6.1
âœ… pandas            2.2.3
âœ… matplotlib        3.10.0
âœ… seaborn           0.13.2
âœ… tensorly          0.9.0
âœ… streamlit-drawable-canvas >= 0.9.1
```

### 3ï¸âƒ£ é …ç›®çµæ§‹
```
hosvd_handwriting_recognition/
â”œâ”€â”€ streamlit_app_simple.py    âœ… ä¸»æ‡‰ç”¨æ–‡ä»¶ (æ¨è–¦)
â”œâ”€â”€ streamlit_app.py            (å‚™ç”¨ç‰ˆæœ¬)
â”œâ”€â”€ data/                        âœ… æ•¸æ“šåŠ è¼‰æ¨¡å¡Š
â”‚   â”œâ”€â”€ loader.py              (æ”¯æŒ MNIST/USPS/digits)
â”‚   â”œâ”€â”€ preprocessor.py
â”‚   â””â”€â”€ __init__.py
â”œâ”€â”€ models/                      âœ… æ¨¡å‹æ¨¡å¡Š
â”‚   â”œâ”€â”€ classifier.py          (åˆ†é¡å™¨)
â”‚   â”œâ”€â”€ hosvd_model.py         (HOSVD)
â”‚   â””â”€â”€ __init__.py
â”œâ”€â”€ results/                     âœ… çµæœç›®éŒ„
â”‚   â”œâ”€â”€ models/                (å·²è¨“ç·´æ¨¡å‹)
â”‚   â””â”€â”€ figures/               (åœ–è¡¨è¼¸å‡º)
â”œâ”€â”€ .streamlit/
â”‚   â””â”€â”€ config.toml            âœ… Streamlit é…ç½®
â””â”€â”€ requirements.txt           âœ… ä¾è³´æ¸…å–®
```

### 4ï¸âƒ£ ç›®éŒ„æª¢æŸ¥
```
âœ… results/models/     å‰µå»ºæˆåŠŸ
âœ… results/figures/    å‰µå»ºæˆåŠŸ
```

---

## ğŸš€ å¿«é€Ÿå•Ÿå‹•

### æ–¹å¼ 1: ä¸€éµå•Ÿå‹• (æ¨è–¦)
```bash
cd "hosvd_handwriting_recognition"
streamlit run streamlit_app_simple.py
```

### æ–¹å¼ 2: æŒ‡å®šç«¯å£å•Ÿå‹•
```bash
streamlit run streamlit_app_simple.py --server.port 8505
```

### æ–¹å¼ 3: ä½¿ç”¨é»˜èªç«¯å£ (8501)
```bash
streamlit run streamlit_app_simple.py --logger.level=info
```

---

## ğŸ“± æ‡‰ç”¨åŠŸèƒ½å°è¦½

### ğŸ  é¦–é  (Home)
- ç³»çµ±ç‰¹é»å±•ç¤º
- æŠ€è¡“æŒ‡æ¨™æ¦‚è¦½
- é …ç›®ç°¡ä»‹

### ğŸ“š æ•¸æ“šé›†ä¿¡æ¯ (Dataset Info)
- **MNIST çµ±è¨ˆ**: 60K è¨“ç·´/10K æ¸¬è©¦
- **æ¨¡å‹å°æ¯”è¡¨**: æ‰€æœ‰å·²è¨“ç·´æ¨¡å‹çš„æŒ‡æ¨™
- **è¨“ç·´é›†é æ¸¬**: ä¸‹è¼‰æ¯å€‹æ¨¡å‹çš„è¨“ç·´é›†é æ¸¬çµæœ
- **å„æ•¸å­—åˆ†å¸ƒ**: 0-9 è©³ç´°çµ±è¨ˆ

### ğŸ¨ ç¹ªè£½æ•¸å­— (Draw Digit)
- äº¤äº’å¼ç¹ªåœ–ç•Œé¢
- é»æ“Š "Start Recognition" æŒ‰éˆ•é€²è¡Œé æ¸¬
- é¡¯ç¤ºé æ¸¬çµæœå’Œæ‰€æœ‰æ•¸å­—æ¦‚ç‡åˆ†ä½ˆ

### ğŸ“¸ ä¸Šå‚³åœ–åƒ (Upload Image)
- ä¸Šå‚³å–®å¼µæˆ–å¤šå¼µåœ–ç‰‡
- é»æ“Š "Recognize" æŒ‰éˆ•é€²è¡Œè­˜åˆ¥
- é¡¯ç¤ºè­˜åˆ¥çµæœå’Œç½®ä¿¡åº¦

### ğŸ“Š æ‰¹é‡æ¸¬è©¦ (Batch Test)
- ä¸Šå‚³å¤šå¼µåœ–ç‰‡é€²è¡Œæ‰¹é‡è­˜åˆ¥
- **å¯é¸**: ä¸Šå‚³ ground-truth CSV (æ ¼å¼: filename,label)
- é¡¯ç¤ºè©³ç´°çµæœè¡¨æ ¼
- è¨ˆç®—æ‰¹é‡æº–ç¢ºç‡
- **ä¸‹è¼‰**: å¯ä¸‹è¼‰å®Œæ•´çµæœ CSV

### ğŸ“ˆ æ¨¡å‹è©•ä¼° (Model Evaluation)
- åœ¨æ¸¬è©¦é›†ä¸Šè©•ä¼°æ¨¡å‹
- é¡¯ç¤º Accuracyã€Precisionã€Recallã€F1
- æ··æ·†çŸ©é™£ç†±åŠ›åœ– (è‹±æ–‡è»¸æ¨™ç±¤)
- å„æ•¸å­—æº–ç¢ºç‡åˆ†æ
- éŒ¯èª¤çµ±è¨ˆ

### ğŸ”¬ æ¨¡å‹è¨“ç·´ (Model Training)
- è©³ç´°çš„ 7 æ­¥è¨“ç·´æµç¨‹èªªæ˜
- HOSVD ç‰¹å¾µæå–åŸç†
- å¹³å‡å€¼é™£åˆ—è¨ˆç®—
- è©•ä¼°æŒ‡æ¨™è§£é‡‹

### ğŸ“Š æ€§èƒ½å°æ¯” (Performance Comparison)
- 6 ç¨®æ¨¡å‹æ–¹æ³•å°æ¯”
- è¨“ç·´æ™‚é–“ã€æº–ç¢ºç‡ã€è¨˜æ†¶é«”ã€æ¨ç†é€Ÿåº¦å°æ¯”
- å„æ¨¡å‹é©ç”¨å ´æ™¯èªªæ˜
- è©•ä¼°æŒ‡æ¨™å…¬å¼

---

## ğŸ”§ é…ç½®ä¿¡æ¯

### Streamlit é…ç½® (.streamlit/config.toml)
```toml
[theme]
primaryColor = "#667eea"
backgroundColor = "#f0f2f6"

[server]
port = 8501
headless = true
runOnSave = true

[client]
showErrorDetails = true
```

### æ•¸æ“šåŠ è¼‰å„ªå…ˆç´š
```
1. MNIST (Keras) - å¦‚æœå¯ç”¨
2. USPS (æœ¬åœ°æ–‡ä»¶) - å¦‚æœå·²ä¸Šå‚³
3. sklearn digits (æœ¬åœ°æ•¸æ“šé›†) - ç¸½æ˜¯å¯ç”¨ âœ…
```

---

## ğŸ“Š æ‰¹é‡æ¸¬è©¦ CSV æ ¼å¼

### ä¸Šå‚³ ground-truth CSV
```csv
filename,label
image1.jpg,0
image2.jpg,1
image3.jpg,2
...
```

### è¼¸å‡ºçµæœ CSV åŒ…å«
```
filename, prediction, confidence, truth, correct
```

---

## ğŸ¯ é¦–æ¬¡ä½¿ç”¨æµç¨‹

1. **å•Ÿå‹•æ‡‰ç”¨**
   ```bash
   cd hosvd_handwriting_recognition
   streamlit run streamlit_app_simple.py
   ```

2. **æ‰“é–‹ç€è¦½å™¨**
   - è‡ªå‹•æ‰“é–‹: http://localhost:8501
   - æ‰‹å‹•è¨ªå•: http://localhost:8501

3. **é¦–æ¬¡ä½¿ç”¨**
   - â³ ç¬¬ä¸€æ¬¡è¨ªå•æœƒè‡ªå‹•è¨“ç·´ KNN æ¨¡å‹ (20-30 ç§’)
   - âœ… è¨“ç·´å®Œæˆå¾Œæœƒè‡ªå‹•ä¿å­˜åˆ° results/models/
   - ğŸ“ å¾ŒçºŒè¨ªå•æœƒç›´æ¥åŠ è¼‰å·²ä¿å­˜çš„æ¨¡å‹

4. **æ¸¬è©¦åŠŸèƒ½**
   - åœ¨ ğŸ¨ "Draw Digit" é é¢æ‰‹å¯«æ•¸å­—
   - åœ¨ ğŸ“¸ "Upload Image" ä¸Šå‚³æ‰‹å¯«åœ–ç‰‡
   - åœ¨ ğŸ“Š "Batch Test" é€²è¡Œæ‰¹é‡æ¸¬è©¦

---

## ğŸ› å¸¸è¦‹å•é¡Œè§£æ±º

### å•é¡Œ 1: æ‰¾ä¸åˆ° Keras/TensorFlow
**è§£æ±º**: æ‡‰ç”¨æœƒè‡ªå‹•ä½¿ç”¨ sklearn digits ä½œç‚ºå¾Œå‚™æ•¸æ“šé›†ï¼Œç„¡éœ€æ‰‹å‹•æ“ä½œ

### å•é¡Œ 2: æ¨¡å‹åŠ è¼‰å¤±æ•—
**è§£æ±º**: æ‡‰ç”¨æœƒè‡ªå‹•è¨“ç·´æ–°æ¨¡å‹ä¸¦ä¿å­˜ï¼Œç„¡éœ€æ‰‹å‹•æ“ä½œ

### å•é¡Œ 3: ç«¯å£å·²è¢«å ç”¨
```bash
# ä½¿ç”¨ä¸åŒç«¯å£
streamlit run streamlit_app_simple.py --server.port 8506
```

### å•é¡Œ 4: ç¹ªè£½æ•¸å­—ç„¡åæ‡‰
**è§£æ±º**: é»æ“Š "Start Recognition" æŒ‰éˆ•è§¸ç™¼é æ¸¬

---

## ğŸ”„ é‡æ–°å•Ÿå‹•æ‡‰ç”¨

```bash
# æ¸…ç†é€²ç¨‹
pkill -9 -f "streamlit run"

# é‡æ–°å•Ÿå‹•
streamlit run streamlit_app_simple.py
```

---

## ğŸ“¥ ä¸Šå‚³æ•¸æ“šé›†

è‹¥è¦ä½¿ç”¨ USPS æ•¸æ“šé›†ï¼Œè«‹å°‡ä¸‹è¼‰çš„æ–‡ä»¶æ”¾åœ¨ `data/` ç›®éŒ„:
```
data/
â”œâ”€â”€ usps.npz  æˆ–
â”œâ”€â”€ usps.npy  æˆ–
â””â”€â”€ usps.csv
```

---

## ğŸ“¤ å°å‡ºçµæœ

### 1. ä¸‹è¼‰è¨“ç·´é›†é æ¸¬
- é€²å…¥ ğŸ“š "Dataset Info" é é¢
- æ‰¾åˆ°è¦å°å‡ºçš„æ¨¡å‹
- é»æ“Š "Download training predictions" æŒ‰éˆ•

### 2. ä¸‹è¼‰æ‰¹é‡æ¸¬è©¦çµæœ
- é€²å…¥ ğŸ“Š "Batch Test" é é¢
- ä¸Šå‚³åœ–ç‰‡ä¸¦é€²è¡Œé æ¸¬
- é»æ“Š "Download batch results CSV" æŒ‰éˆ•

---

## ğŸ“ˆ æ€§èƒ½æŒ‡æ¨™

| æŒ‡æ¨™ | å€¼ |
|------|-----|
| å¹³å‡æº–ç¢ºç‡ | 95%+ |
| æ¨ç†é€Ÿåº¦ | <100ms/å¼µ |
| é¦–æ¬¡æ¨¡å‹è¨“ç·´ | 20-30 ç§’ |
| ç‰¹å¾µé™ç¶­ç‡ | 96% |
| æ”¯æŒæ•¸å­—é¡åˆ¥ | 10 (0-9) |

---

## ğŸ” å®‰å…¨ä¿¡æ¯

- âœ… æœ¬åœ°é‹è¡Œï¼Œç„¡éœ€ä¸Šå‚³åˆ°æœå‹™å™¨
- âœ… æ‰€æœ‰æ•¸æ“šä¿ç•™åœ¨æœ¬åœ°
- âœ… æ”¯æŒé›¢ç·šé‹è¡Œ

---

## ğŸ“ å¿«é€Ÿå‘½ä»¤åƒè€ƒ

```bash
# æª¢æŸ¥ Python ç‰ˆæœ¬
python --version

# é©—è­‰ä¾è³´
python -c "import streamlit; print(streamlit.__version__)"

# å®‰è£ä¾è³´
pip install -r requirements.txt

# é‹è¡Œæ‡‰ç”¨
streamlit run streamlit_app_simple.py

# æŸ¥çœ‹æ—¥èªŒ
streamlit run streamlit_app_simple.py --logger.level=debug

# æŒ‡å®šç«¯å£
streamlit run streamlit_app_simple.py --server.port 8506
```

---

## ğŸ“ æŠ€è¡“å †æ£§

```
å‰ç«¯: Streamlit 1.45.1
å¾Œç«¯: Python 3.13.5
MLæ¡†æ¶: scikit-learn 1.6.1
å¼µé‡åˆ†è§£: Tensorly 0.9.0
æ•¸æ“šè™•ç†: Pandas 2.2.3, NumPy 2.1.3
å¯è¦–åŒ–: Matplotlib 3.10.0, Seaborn 0.13.2
```

---

## âœ¨ æ–°å¢åŠŸèƒ½ (v3.0)

- âœ… Python 3.13 å®Œå…¨å…¼å®¹
- âœ… USPS æ•¸æ“šé›†æ”¯æŒ
- âœ… æ¨¡å‹å°æ¯”è¡¨
- âœ… è¨“ç·´é›†é æ¸¬ä¸‹è¼‰
- âœ… Ground-truth CSV æ”¯æŒ
- âœ… æ‰¹é‡çµæœä¸‹è¼‰
- âœ… æ‰€æœ‰åœ–è¡¨è‹±æ–‡è»¸æ¨™ç±¤

---

## ğŸ“ æ”¯æŒä¿¡æ¯

- **å­¸ç”Ÿ**: é™³å®¥èˆˆ (5114050015)
- **èª²ç¨‹**: æ•¸æ“šåˆ†ææ•¸å­¸
- **å¤§å­¸**: åœ‹ç«‹ä¸­èˆˆå¤§å­¸
- **å¹´ä»½**: 2025

---

## âœ… å•Ÿå‹•é©—è­‰

```
âœ… é …ç›®çµæ§‹å®Œæ•´
âœ… ä¾è³´å…¨éƒ¨å®‰è£
âœ… é…ç½®æ–‡ä»¶å°±ä½
âœ… æ•¸æ“šç›®éŒ„å·²å‰µå»º
âœ… Streamlit æ‡‰ç”¨å¯é‹è¡Œ
âœ… æ¨¡å‹ä¿å­˜ç›®éŒ„å·²å‰µå»º
âœ… æº–å‚™å°±ç·’ï¼
```

**æ‡‰ç”¨å·²åœ¨ http://localhost:8505 ä¸Šé‹è¡Œï¼** ğŸ‰

